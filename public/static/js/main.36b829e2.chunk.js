(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(n,e){},224:function(n,e,t){n.exports=t.p+"static/media/opq-logo.3153ffe8.svg"},229:function(n,e,t){n.exports=t.p+"static/media/upload.fefec929.svg"},237:function(n,e,t){n.exports=t(494)},277:function(n,e){},279:function(n,e){},291:function(n,e){},293:function(n,e){},303:function(n,e){},305:function(n,e){},494:function(n,e,t){"use strict";t.r(e);var a,r=t(0),i=t.n(r),c=t(92),o=t.n(c),l=t(51),u=t(8),d=t(46),s=t(23),f=t(11),p=t(72),m=t(224),h=t.n(m);function b(){var n=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  text-decoration: none;\n\n  img {\n    margin-left: 8px;\n  }\n"]);return b=function(){return n},n}function g(){var n=Object(f.a)(["\n  font-size: 24px;\n  font-weight: 700;\n  color: ",";\n  text-decoration: none;\n\n  p {\n    font-size: 14px;\n    font-weight: 400;\n    margin: 0;\n\n    @media screen and (max-width: 500px) {\n      display: none;\n    }\n  }\n"]);return g=function(){return n},n}function v(){var n=Object(f.a)(["\n  background-color: ",";\n  padding: 20px 40px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ",";\n"]);return v=function(){return n},n}!function(n){n.PRIMARY="#4287f5",n.PRIMARY_DARK="#4287f5",n.WHITE="#fff",n.BLACK="#1b1b1b",n.DARK_GRAY="#333"}(a||(a={}));var x=u.c.div(v(),a.PRIMARY,a.WHITE),E=Object(u.c)(p.a)(g(),a.WHITE),j=u.c.a(b(),a.WHITE),O=function(){return i.a.createElement(x,null,i.a.createElement(E,{to:"/"},"OPQ PIC",i.a.createElement("p",null,"Image uploading and sharing platform")),i.a.createElement(j,{href:"https://opacity.io",target:"_blank"},"Powered by ",i.a.createElement("img",{width:"40",height:"40",src:h.a,alt:"Opacity"})))},w=t(14),y=t(1),k=t.n(y),R=t(2),A=t(17),I=t.n(A);var T=function(n,e){var t=Object(r.useState)(!1),a=Object(w.a)(t,2),i=a[0],c=a[1],o=Object(r.useState)(),l=Object(w.a)(o,2),u=l[0],d=l[1],s=Object(r.useState)(""),f=Object(w.a)(s,2),p=f[0],m=f[1];return[{isLoading:i,responseData:u,error:p},Object(r.useCallback)((function(){(function(){var t=Object(R.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.prev=1,t.next=4,I()(n,{data:e,method:"POST"});case 4:a=t.sent,d(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),m(t.t0);case 11:return t.prev=11,c(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(){return t.apply(this,arguments)}})()()}),[e,n])]};var C=function(n){Object(r.useEffect)((function(){document.title=n}),[n])};function P(){var n=Object(f.a)(["\n  padding: 15px 20px;\n  min-width: 220px;\n  font-size: 18px;\n  font-weight: 700;\n  text-transform: uppercase;\n  background-color: ",";\n  color: #fff;\n  border: 2px solid transparent;\n  font-family: inherit;\n  cursor: pointer;\n  border-radius: 5px;\n\n  &:hover {\n    background-color: ",";\n  }\n"]);return P=function(){return n},n}var Y=u.c.button(P(),a.PRIMARY,a.PRIMARY_DARK),D=t(229),z=t.n(D);function S(){var n=Object(f.a)(["\n  width: 120px;\n  height: 120px;\n  margin: 0 auto 20px auto;\n\n  div {\n    width: 33%;\n    height: 34%;\n    background-color: ",";\n    float: left;\n    animation: "," 1.3s infinite ease-in-out;\n\n    &:nth-child(1) {\n      animation-delay: 0.2s;\n    }\n\n    &:nth-child(2) {\n      animation-delay: 0.3s;\n    }\n\n    &:nth-child(3) {\n      animation-delay: 0.4s;\n    }\n\n    &:nth-child(4) {\n      animation-delay: 0.1s;\n    }\n\n    &:nth-child(5) {\n      animation-delay: 0.2s;\n    }\n\n    &:nth-child(6) {\n      animation-delay: 0.3s;\n    }\n\n    &:nth-child(7) {\n      animation-delay: 0s;\n    }\n\n    &:nth-child(8) {\n      animation-delay: 0.1s;\n    }\n\n    &:nth-child(9) {\n      animation-delay: 0.2s;\n    }\n  }\n"]);return S=function(){return n},n}function M(){var n=Object(f.a)(["\n  0%, 70%, 100% {\n    transform: scale3D(1, 1, 1);\n  }\n\n  35% {\n    transform: scale3D(0, 0, 1);\n  }\n"]);return M=function(){return n},n}var W=Object(u.d)(M()),H=u.c.div(S(),a.PRIMARY,W),K=function(){return i.a.createElement(H,null,i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))},B=t(230),L=t.n(B);var _=function(n){var e=n.show,t=n.title,a=n.text,c=n.onConfirm,o=Object(r.useState)(e),l=Object(w.a)(o,2),u=l[0],d=l[1];return i.a.createElement(L.a,{show:u,title:t,text:a,onConfirm:function(){d(!1),c()}})};function F(){var n=Object(f.a)(["\n  display: none;\n"]);return F=function(){return n},n}function G(){var n=Object(f.a)(["\n  text-align: center;\n"]);return G=function(){return n},n}function U(){var n=Object(f.a)(["\n  font-size: 14px;\n  color: ",";\n  margin-bottom: ",";\n  font-style: italic;\n  text-align: right;\n\n  span {\n    font-weight: 700;\n  }\n"]);return U=function(){return n},n}function Q(){var n=Object(f.a)(["\n  font-size: 32px;\n  color: ",";\n  text-align: center;\n  word-break: break-all;\n\n  &:hover {\n    text-decoration: line-through;\n  }\n"]);return Q=function(){return n},n}function J(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 400px;\n  height: 300px;\n  max-width: 90vw;\n  max-height: 90vh;\n  border: 3px dashed ",";\n  margin-bottom: 40px;\n  cursor: pointer;\n\n  span {\n    color: ",";\n    position: relative;\n    top: 20px;\n    font-size: 18px;\n    font-weight: 700;\n\n    &::after {\n      content: '';\n      background: url(",") no-repeat center center;\n      background-size: 100%;\n      width: 60px;\n      height: 50px;\n      position: absolute;\n      left: 50%;\n      top: -60px;\n      transform: translateX(-50%);\n    }\n  }\n"]);return J=function(){return n},n}function q(){var n=Object(f.a)(["\n  color: ",";\n  font-size: 42px;\n  margin-bottom: 20px;\n  text-align: center;\n  word-break: break-all;\n"]);return q=function(){return n},n}function X(){var n=Object(f.a)(["\n  animation: "," 1s linear;\n"]);return X=function(){return n},n}function $(){var n=Object(f.a)(["\n  min-width: 100vw;\n  min-height: calc(100vh - 83px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 0 20px;\n  background-color: ",";\n"]);return $=function(){return n},n}function N(){var n=Object(f.a)(["\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"]);return N=function(){return n},n}var V=["jpg","jpeg","png","gif","svg","bmp"];var Z=Object(u.d)(N()),nn=u.c.div($(),(function(n){return"light"===n.theme.theme?a.WHITE:a.BLACK})),en=u.c.div(X(),Z),tn=u.c.h1(q(),(function(n){return"light"===n.theme.theme?a.DARK_GRAY:a.WHITE})),an=u.c.label(J(),a.PRIMARY,a.PRIMARY,z.a),rn=u.c.h2(Q(),(function(n){return"light"===n.theme.theme?a.DARK_GRAY:a.WHITE})),cn=u.c.div(U(),(function(n){return"light"===n.theme.theme?a.DARK_GRAY:a.WHITE}),(function(n){return n.last?"16px":"8px"})),on=u.c.div(G()),ln=u.c.input(F()),un=function(){var n=Object(r.useState)(),e=Object(w.a)(n,2),t=e[0],a=e[1],c=Object(r.useState)(),o=Object(w.a)(c,2),l=o[0],u=o[1],s=Object(r.useState)(""),f=Object(w.a)(s,2),p=f[0],m=f[1],h=T("/api/images",l),b=Object(w.a)(h,2),g=b[0],v=g.isLoading,x=g.responseData,E=b[1],j=Object(d.f)();C("OPQ PIC | Image Uploader");var O=v?"Uploading ".concat(t.name,"..."):"Upload your image";function y(){u(null),a(null)}return Object(r.useEffect)((function(){var n,e;x&&j.push("/share/"+(null===x||void 0===x?void 0:null===(n=x.data)||void 0===n?void 0:null===(e=n.imageDetails)||void 0===e?void 0:e.handle))}),[j,x]),i.a.createElement(nn,null,i.a.createElement(en,null,!!p&&i.a.createElement(_,{show:!!p,title:"Error",text:p,onConfirm:function(){y()}}),i.a.createElement(tn,null,O),v&&i.a.createElement(K,null),t&&!v&&i.a.createElement(rn,{onClick:y},t.name),!t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(cn,null,"Allowed extensions: ",i.a.createElement("span",null,"jpg, jpeg, png, gif")),i.a.createElement(cn,{last:!0},"Maximum file size: ",i.a.createElement("span",null,"5MB"))),!t&&i.a.createElement(an,null,i.a.createElement("span",null,"Click here to select file"),i.a.createElement("i",null),i.a.createElement(ln,{onChange:function(n){var e=n.currentTarget.files[0];m(""),a(e);var t=new FileReader;t.onload=function(n){var t={fileBase64:n.target.result,name:e.name};u(t)},t.readAsDataURL(e)},type:"file",accept:".jpg, .jpeg, .png, .gif, .svg, .bmp"})),t&&!v&&i.a.createElement(on,null,i.a.createElement(Y,{onClick:function(){return t.size>5242880?m("Maxiumum file size is: 5MB"):function(n){var e=n.split("."),t=e.length;return!!V.includes(e[t-1])}(t.name)?void E():m("Allowed extensions are: .jpg, .jpeg, .png, .gif, .svg, .bmp")}},"Upload"))))},dn=t(231),sn="https://broker-1.opacitynodes.com:3000",fn={autostart:!0,endpoint:sn,params:{blockSize:65536,partSize:10485760}},pn={endpoint:sn,autostart:!0};function mn(){var n=Object(f.a)(["\n  padding: 20px 0;\n  display: flex;\n  justify-content: center;\n\n  input {\n    width: 400px;\n    border: 2px solid ",";\n    padding: 0 10px;\n    box-shadow: unset;\n    border-radius: 5px;\n    margin-right: 16px;\n    max-width: 90vw;\n  }\n\n  @media screen and (max-width: 768px) {\n    display: block;\n    text-align: center;\n\n    input {\n      margin-bottom: 16px;\n      height: 40px;\n    }\n  }\n"]);return mn=function(){return n},n}var hn=u.c.div(mn(),a.PRIMARY),bn=function(){var n=Object(r.useState)("Copy to clipboard"),e=Object(w.a)(n,2),t=e[0],a=e[1];return i.a.createElement(hn,null,i.a.createElement("input",{id:"url-input",type:"text",readOnly:!0,value:window.location.href}),i.a.createElement(Y,{onClick:function(){document.getElementById("url-input").select(),document.execCommand("copy"),a("Copied!")}},t))};function gn(){var n=Object(f.a)(["\n  max-width: 100vw;\n  max-height: calc(100vh - 200px);\n  display: inline-block;\n  padding: 20px 0;\n"]);return gn=function(){return n},n}function vn(){var n=Object(f.a)(["\n  background-color: ",";\n  min-height: calc(100vh - 83px);\n  text-align: center;\n"]);return vn=function(){return n},n}var xn,En=u.c.div(vn(),(function(n){return"light"===n.theme.theme?a.WHITE:a.BLACK})),jn=u.c.img(gn()),On=function(n){var e=n.match.params.handle,t=Object(r.useState)(""),a=Object(w.a)(t,2),c=a[0],o=a[1],l=Object(r.useState)(""),u=Object(w.a)(l,2),s=u[0],f=u[1];C("OPQ PIC | ".concat(s));var p=Object(d.f)();return Object(r.useEffect)((function(){new dn.a({handle:"8e4dfb806861314e21e2e648d96fdf90070f6c782587c785731bd278cbf6d005d5cfc6add4c51bc072dc370e6d4e05acf451a81cffda7680c360380760b66f18"},{uploadOpts:fn,downloadOpts:pn}).downloadFile(e).toFile().then((function(n){var e=new FileReader;f(n.name),e.addEventListener("load",(function(){var n=this.result;o(n)})),e.readAsDataURL(n)})).catch((function(){p.push("/")}))}),[e,p]),i.a.createElement(En,null,i.a.createElement(bn,null),c?i.a.createElement(jn,{src:c,alt:s}):i.a.createElement(K,null))};function wn(){var n=Object(f.a)(["\n  position: fixed;\n  top: 100px;\n  right: 40px;\n  text-align: center;\n\n  span {\n    display: inline-block;\n    margin-bottom: 8px;\n    font-size: 14px;\n    font-weight: 700;\n    color: ",";\n  }\n\n  input {\n    display: none;\n  }\n\n  input:checked {\n    & + label {\n      background-color: ",";\n\n      &::before {\n        left: 50px;\n      }\n    }\n  }\n\n  label {\n    cursor: pointer;\n    display: block;\n    width: 80px;\n    height: 30px;\n    border-radius: 30px;\n    background-color: ",";\n    position: relative;\n\n    &::before {\n      content: '';\n      position: absolute;\n      left: 10px;\n      top: 50%;\n      transform: translateY(-50%);\n      width: 20px;\n      height: 20px;\n      background-color: ",";\n      border-radius: 50%;\n      transition: all 0.4s;\n    }\n  }\n"]);return wn=function(){return n},n}!function(n){n[n.switchTheme=0]="switchTheme"}(xn||(xn={}));var yn=u.c.div(wn(),(function(n){return"light"===n.theme.theme?a.DARK_GRAY:a.WHITE}),a.PRIMARY,a.DARK_GRAY,a.WHITE),kn=function(){var n=Object(l.b)(),e=Object(l.c)((function(n){return n.theme})).activeTheme,t="dark"===e?"light":"dark";return i.a.createElement(yn,null,i.a.createElement("span",null,"Dark mode"),i.a.createElement("input",{id:"theme-switcher",type:"checkbox",onChange:function(){return n((e=t,{type:xn.switchTheme,payload:e}));var e},checked:"dark"===e}),i.a.createElement("label",{htmlFor:"theme-switcher"}))},Rn=Object(s.a)();var An=function(){return i.a.createElement(d.b,{history:Rn},i.a.createElement(O,null),i.a.createElement(kn,null),i.a.createElement(d.c,null,i.a.createElement(d.a,{path:"/share/:handle",component:On}),i.a.createElement(d.a,{path:"/",component:un})))};t(493);function In(){var n=Object(f.a)(['\n  *,\n  *::before, \n  *::after {\n    box-sizing: border-box;\n  }\n\n  html {\n    font-family: "Lato", sans-serif;\n  }\n']);return In=function(){return n},n}var Tn=Object(u.b)(In()),Cn=function(){var n=Object(l.c)((function(n){return n.theme})).activeTheme;return i.a.createElement(u.a,{theme:{theme:n}},i.a.createElement(An,null),i.a.createElement(Tn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pn=t(59),Yn=t(93);function Dn(n){window.localStorage.setItem("activeTheme",n)}function zn(){var n=window.localStorage.getItem("activeTheme");return n||"light"}var Sn=Object(Pn.b)({theme:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{activeTheme:zn()},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case xn.switchTheme:return Dn(e.payload),Object(Yn.a)({},n,{activeTheme:e.payload});default:return n}}});o.a.render(i.a.createElement(l.a,{store:Object(Pn.c)(Sn)},i.a.createElement(Cn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[237,1,2]]]);
//# sourceMappingURL=main.36b829e2.chunk.js.map