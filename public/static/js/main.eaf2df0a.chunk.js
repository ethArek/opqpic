(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{218:function(n,e,t){n.exports=t.p+"static/media/opq-logo.3153ffe8.svg"},223:function(n,e,t){n.exports=t.p+"static/media/upload.fefec929.svg"},232:function(n,e,t){n.exports=t(488)},271:function(n,e){},273:function(n,e){},285:function(n,e){},287:function(n,e){},297:function(n,e){},299:function(n,e){},488:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(217),o=t.n(i),c=t(42),l=t(22),u=t(10),f=t(66),s=t(11),d=t(218),p=t.n(d);function m(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  color: #fff;\n  text-decoration: none;\n\n  img {\n    margin-left: 8px;\n  }\n"]);return m=function(){return n},n}function b(){var n=Object(u.a)(["\n  font-size: 24px;\n  font-weight: 700;\n  color: #fff;\n  text-decoration: none;\n\n  p {\n    font-size: 14px;\n    font-weight: 400;\n    margin: 0;\n  }\n"]);return b=function(){return n},n}function h(){var n=Object(u.a)(["\n  background-color: #4257f5;\n  padding: 20px 40px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: #fff;\n"]);return h=function(){return n},n}var v=s.b.div(h()),g=Object(s.b)(f.a)(b()),x=s.b.a(m()),j=function(){return r.a.createElement(v,null,r.a.createElement(g,{to:"/"},"OPQ PIC",r.a.createElement("p",null,"Image uploading and sharing platform")),r.a.createElement(x,{href:"https://opacity.io",target:"_blank"},"Powered by ",r.a.createElement("img",{width:"40",height:"40",src:p.a,alt:"Opacity"})))},O=t(13),E=t(1),y=t.n(E),w=t(2),k=t(17),C=t.n(k);var z=function(n,e){var t=Object(a.useState)(!1),r=Object(O.a)(t,2),i=r[0],o=r[1],c=Object(a.useState)(),l=Object(O.a)(c,2),u=l[0],f=l[1],s=Object(a.useState)(""),d=Object(O.a)(s,2),p=d[0],m=d[1];return[{isLoading:i,responseData:u,error:p},Object(a.useCallback)((function(){(function(){var t=Object(w.a)(y.a.mark((function t(){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,C()(n,{data:e,method:"POST"});case 4:a=t.sent,f(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),m(t.t0);case 11:return t.prev=11,o(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(){return t.apply(this,arguments)}})()()}),[e,n])]};var S=function(n){Object(a.useEffect)((function(){document.title=n}),[n])};function P(){var n=Object(u.a)(["\n  padding: 15px 20px;\n  min-width: 220px;\n  font-size: 18px;\n  font-weight: 700;\n  text-transform: uppercase;\n  background-color: #4287f5;\n  color: #fff;\n  border: 2px solid transparent;\n  font-family: inherit;\n  cursor: pointer;\n  border-radius: 5px;\n\n  &:hover {\n    background-color: #4257f5;\n  }\n"]);return P=function(){return n},n}var D=s.b.button(P()),F=t(223),I=t.n(F);function B(){var n=Object(u.a)(["\n  width: 120px;\n  height: 120px;\n  margin: 0 auto 20px auto;\n\n  div {\n    width: 33%;\n    height: 34%;\n    background-color: #4257f5;\n    float: left;\n    animation: "," 1.3s infinite ease-in-out;\n\n    &:nth-child(1) {\n      animation-delay: 0.2s;\n    }\n\n    &:nth-child(2) {\n      animation-delay: 0.3s;\n    }\n\n    &:nth-child(3) {\n      animation-delay: 0.4s;\n    }\n\n    &:nth-child(4) {\n      animation-delay: 0.1s;\n    }\n\n    &:nth-child(5) {\n      animation-delay: 0.2s;\n    }\n\n    &:nth-child(6) {\n      animation-delay: 0.3s;\n    }\n\n    &:nth-child(7) {\n      animation-delay: 0s;\n    }\n\n    &:nth-child(8) {\n      animation-delay: 0.1s;\n    }\n\n    &:nth-child(9) {\n      animation-delay: 0.2s;\n    }\n  }\n"]);return B=function(){return n},n}function L(){var n=Object(u.a)(["\n  0%, 70%, 100% {\n    transform: scale3D(1, 1, 1);\n  }\n\n  35% {\n    transform: scale3D(0, 0, 1);\n  }\n"]);return L=function(){return n},n}var U=Object(s.c)(L()),A=s.b.div(B(),U),M=function(){return r.a.createElement(A,null,r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},R=t(224),Q=t.n(R);var J=function(n){var e=n.show,t=n.title,i=n.text,o=n.onConfirm,c=Object(a.useState)(e),l=Object(O.a)(c,2),u=l[0],f=l[1];return r.a.createElement(Q.a,{show:u,title:t,text:i,onConfirm:function(){f(!1),o()}})};function T(){var n=Object(u.a)(["\n  display: none;\n"]);return T=function(){return n},n}function W(){var n=Object(u.a)(["\n  text-align: center;\n"]);return W=function(){return n},n}function q(){var n=Object(u.a)(["\n  font-size: 14px;\n  color: #333;\n  margin-bottom: ",";\n  font-style: italic;\n  text-align: right;\n\n  span {\n    font-weight: 700;\n  }\n"]);return q=function(){return n},n}function X(){var n=Object(u.a)(["\n  font-size: 32px;\n  color: #333;\n  text-align: center;\n\n  &:hover {\n    text-decoration: line-through;\n  }\n"]);return X=function(){return n},n}function $(){var n=Object(u.a)(['\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 400px;\n  height: 300px;\n  border: 3px dashed #4257f5;\n  margin-bottom: 40px;\n  cursor: pointer;\n\n  span {\n    color: #4257f5;\n    position: relative;\n    top: 20px;\n    font-size: 18px;\n    font-weight: 700;\n\n    &::after {\n      content: "";\n      background: url(',") no-repeat center center;\n      background-size: 100%;\n      width: 60px;\n      height: 50px;\n      position: absolute;\n      left: 50%;\n      top: -60px;\n      transform: translateX(-50%);\n    }\n  }\n"]);return $=function(){return n},n}function _(){var n=Object(u.a)(["\n  color: #333;\n  font-size: 42px;\n  margin-bottom: 20px;\n  text-align: center;\n"]);return _=function(){return n},n}function G(){var n=Object(u.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  animation: "," 1s linear;\n"]);return G=function(){return n},n}function H(){var n=Object(u.a)(["\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"]);return H=function(){return n},n}var K=["jpg","jpeg","png","gif","svg","bmp"];var N=Object(s.c)(H()),V=s.b.div(G(),N),Y=s.b.h1(_()),Z=s.b.label($(),I.a),nn=s.b.h2(X()),en=s.b.div(q(),(function(n){return n.last?"16px":"8px"})),tn=s.b.div(W()),an=s.b.input(T()),rn=function(){var n=Object(a.useState)(),e=Object(O.a)(n,2),t=e[0],i=e[1],o=Object(a.useState)(),l=Object(O.a)(o,2),u=l[0],f=l[1],s=Object(a.useState)(""),d=Object(O.a)(s,2),p=d[0],m=d[1],b=z("/api/images",u),h=Object(O.a)(b,2),v=h[0],g=v.isLoading,x=v.responseData,j=h[1],E=Object(c.f)();S("OPQ PIC | Image Uploader");var y=g?"Uploading ".concat(t.name,"..."):"Upload your image";function w(){f(null),i(null)}return Object(a.useEffect)((function(){var n,e;x&&E.push("/share/"+(null===x||void 0===x?void 0:null===(n=x.data)||void 0===n?void 0:null===(e=n.imageDetails)||void 0===e?void 0:e.handle))}),[E,x]),r.a.createElement(V,null,!!p&&r.a.createElement(J,{show:!!p,title:"Error",text:p,onConfirm:function(){w()}}),r.a.createElement(Y,null,y),g&&r.a.createElement(M,null),t&&!g&&r.a.createElement(nn,{onClick:w},t.name),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(en,null,"Allowed extensions: ",r.a.createElement("span",null,"jpg, jpeg, png, gif")),r.a.createElement(en,{last:!0},"Maximum file size: ",r.a.createElement("span",null,"5MB"))),!t&&r.a.createElement(Z,null,r.a.createElement("span",null,"Click here to select file"),r.a.createElement("i",null),r.a.createElement(an,{onChange:function(n){var e=n.currentTarget.files[0];m(""),i(e);var t=new FileReader;t.onload=function(n){var t={fileBase64:n.target.result,name:e.name};f(t)},t.readAsDataURL(e)},type:"file",accept:".jpg, .jpeg, .png, .gif, .svg, .bmp"})),t&&!g&&r.a.createElement(tn,null,r.a.createElement(D,{onClick:function(){return t.size>5242880?m("Maxiumum file size is: 5MB"):function(n){var e=n.split("."),t=e.length;return!!K.includes(e[t-1])}(t.name)?void j():m("Allowed extensions are: .jpg, .jpeg, .png, .gif, .svg, .bmp")}},"Upload")))},on=t(225),cn="https://broker-1.opacitynodes.com:3000",ln={autostart:!0,endpoint:cn,params:{blockSize:65536,partSize:10485760}},un={endpoint:cn,autostart:!0};function fn(){var n=Object(u.a)(["\n  margin: 20px 0;\n  display: flex;\n  justify-content: center;\n\n  input {\n    width: 400px;\n    border: 2px solid #4287f5;\n    padding: 0 10px;\n    box-shadow: unset;\n    border-radius: 5px;\n    margin-right: 16px;\n  }\n"]);return fn=function(){return n},n}var sn=s.b.div(fn()),dn=function(){var n=Object(a.useState)("Copy to clipboard"),e=Object(O.a)(n,2),t=e[0],i=e[1];return r.a.createElement(sn,null,r.a.createElement("input",{id:"url-input",type:"text",readOnly:!0,value:window.location.href}),r.a.createElement(D,{onClick:function(){document.getElementById("url-input").select(),document.execCommand("copy"),i("Copied!")}},t))};function pn(){var n=Object(u.a)(["\n  max-width: 100vw;\n  max-height: calc(100vh - 200px);\n  display: block;\n  margin: 20px auto 100px auto;\n"]);return pn=function(){return n},n}var mn=s.b.img(pn()),bn=function(n){var e=n.match.params.handle,t=Object(a.useState)(""),i=Object(O.a)(t,2),o=i[0],l=i[1],u=Object(a.useState)(""),f=Object(O.a)(u,2),s=f[0],d=f[1];S("OPQ PIC | ".concat(s));var p=Object(c.f)();return Object(a.useEffect)((function(){new on.a({handle:"8e4dfb806861314e21e2e648d96fdf90070f6c782587c785731bd278cbf6d005d5cfc6add4c51bc072dc370e6d4e05acf451a81cffda7680c360380760b66f18"},{uploadOpts:ln,downloadOpts:un}).downloadFile(e).toFile().then((function(n){var e=new FileReader;d(n.name),e.addEventListener("load",(function(){var n=this.result;l(n)})),e.readAsDataURL(n)})).catch((function(){p.push("/")}))}),[e,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(dn,null),o?r.a.createElement(mn,{src:o,alt:s}):r.a.createElement(M,null))},hn=Object(l.a)();var vn=function(){return r.a.createElement(c.b,{history:hn},r.a.createElement(j,null),r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/share/:handle",component:bn}),r.a.createElement(c.a,{path:"/",component:rn})))};t(487);function gn(){var n=Object(u.a)(['\n  &,\n  &::before, \n  &::after {\n    box-sizing: border-box;\n  }\n\n  html {\n    font-family: "Lato", sans-serif;\n  }\n']);return gn=function(){return n},n}var xn=Object(s.a)(gn()),jn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(vn,null),r.a.createElement(xn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(jn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))},95:function(n,e){}},[[232,1,2]]]);
//# sourceMappingURL=main.eaf2df0a.chunk.js.map